<html>
    <head>
        <meta charset="utf8">
    </head>
    <body>
        <form action="/" id="registerForm">
            请输入用户名：<input type="text" name="username">
            请输入密码：<input type="text" name="password">
            请输入手机号：<input type="text" name="phone">
            <input type="submit">
        </form>
    </body>

    <script>
        // var registerForm = document.getElementById('registerForm');
        // registerForm.onsubmit = function() {
        //     if (registerForm.username.value === '') {
        //         alert('用户名不能为空');
        //         return false;
        //     }
        //     if (registerForm.password.value.length < 6) {
        //         alert('密码长度不能少于6位');
        //         return false;
        //     }
        //     if (!/(^1[3|5|8][0-9]{9}$)/.test(registerForm.phone.value)) {
        //         alert('手机号码格式不正确');
        //         return false;
        //     }
        // }
        
        var validataFunc = function() {
            var validator = new Validator();
            validator.add(registerForm.username, 'isNotEmpty', '用户名不能为空');
            validator.add(registerForm.password, 'minLength:6', '密码长度不能少于6位');
            validator.add(registerForm.phone, 'isPhoneNumber', '手机号码格式不正确');

            var errMsg = validator.start();
            return errMsg;
        };

        var registerForm = document.getElementById('registerForm');
        registerForm.onsubmit = function() {
            var errMsg = validataFunc();
            if (errMsg) {
                alert(errMsg);
                return false;
            }
        }

    </script>
</html>
